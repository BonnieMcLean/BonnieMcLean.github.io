---
title: "Homework 1 solutions"
output: html_notebook
---

# Homework question

Visualise frequency of verbs

1. Make a chunk of R code and load tidyverse, then read in your csv file with the Kelly data (using read_csv)
2. Use `filter` to limit the Kelly tibble to verbs only
3. Use `select` to get just the verb IDs and frequency
4. Use `write_csv` to save this to a file, 'verbs.csv' in your 'data' folder in your R project. (You don't need to upload this file to studium, just your R notebook with the code for making the csv file is fine).
5. Make a plot with verb ID as x-axis and verb frequency as y-axis

# Feedback 

Everyone did really well on this!

Just two things I noticed to focus on:

1. Some people seemed to be using `read_csv()` without assigning its contents to a dataframe, perhaps to preview the data. Because `read_csv()` can be slow with large datasets, it is better to only call `read_csv()` once, and always assign its output to an R dataframe (which R is much quicker to work with) using the assignment operator `<-`. Then, use `head()` if you want to preview that dataframe. Like this:

``` {r, message=FALSE}
kelly <- read_csv('data/kelly.csv')
head(kelly)
```

2. Some people forgot to **save the output of their pipes to a dataframe**, this is an important step, as otherwise you can't work with your filtered dataset! Below are two different ways to do this with the assignment operators `<-` and `->`:

```{r}
kelly%>%
  # Filter the data to just verbs
  filter(`Word classes`=='verb')%>%
  # Select just the verb IDs and frequency and save this as a new dataframe
  select(ID,`Raw freq`)->verbs   # don't forget this last step where you assign your filtered data to a new dataframe that you can work with (using ->)!

# this is another way of writing the same thing:

verbs <- kelly%>%
  filter(`Word classes`=='verb')%>%
  select(ID,`Raw freq`)

# we cam use head() again if we want to preview the dataset

head(verbs)

```

If you are wondering why my column names are in between backwards quotation marks, it is because they have spaces in the names. When there are spaces in a column name you have to put it in backwards quotation marks for R to be able to read it. Some people changed their column names to better names without spaces (e.g. POS, freq), this is really good practice! You can do this using the code below:

```{r}
# to see which columns are which number
colnames(kelly)

# then assign them better names
colnames(kelly)[2] <- "freq"
colnames(kelly)[8] <- "pos"
```


# Step-by-step solution

```{r packages}

# 1. load your required packages
library(tidyverse)

# it's good to do this in a separate chunk, so you can go back to that chunk and add more packages if needed. It is better to load your packages all together at the top, than to load them as you need them further down in your code. Having them in one place at the top makes it easy for people to see which packages they need (and install them if necessary) to run your code

```


```{r, message=FALSE}
# 2. Load in the kelly data

kelly <- read_csv('data/kelly.csv')


# I am using pipes here to make my code shorter 

kelly%>%
  # 3. Filter the data to just verbs
  filter(`Word classes`=='verb')%>%
  # 4. Select just the verb IDs and frequency and save this as a new dataframe
  select(ID,`Raw freq`)->verbs        # don't forget this last step where you assign your filtered data to a new dataframe that you can work with (using ->)!

# 5. Write this dataframe to a csv
write_csv(verbs,'data/verbs.csv')

# 6. Plot the verbs by their frequencies
plot(verbs$ID,verbs$`Raw freq`)
```

